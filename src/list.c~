#include "vm_corewar.h"

t_vm		*init_vm(t_vm *vm)
{
  vm->dump = -1;
  vm->file_opt = true;
  vm->progs_nb = 0;
  vm->progs = NULL;
  vm->champs = NULL;
  return (vm);
}

t_prog		*add_elem(t_prog *prog, char *name)
{
  t_prog	*new_elem;
  t_prog	*tmp;

  tmp = prog;
  while (prog != NULL)
    prog = prog->next;
  if ((new_elem = malloc(sizeof(t_prog))) == NULL)
    return (my_perror(MALLOC_FAILED));
  new_elem->prog_number = -1;
  new_elem->address = 0;
  new_elem->prog_name = my_strdup(name);
  new_elem->next = NULL;
  prog->next = new_elem;
  prog = tmp;
  return (prog);
}
